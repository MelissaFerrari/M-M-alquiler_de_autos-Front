<div class="container mt-4">
  <h2>Crear Reserva</h2>
  <form (ngSubmit)="guardarReserva()" #reservaForm="ngForm" novalidate>

    <!-- DNI del cliente -->
    <div class="mb-3">
      <label for="dniCliente" class="form-label">DNI del Cliente</label>
      <input
        type="text"
        id="dniCliente"
        name="dniCliente"
        [(ngModel)]="dniCliente"
        (blur)="buscarCliente()"
        class="form-control"
        required
      >
      <div *ngIf="errorClienteNoEncontrado" class="text-danger mt-1">
        {{ errorClienteNoEncontrado }}
      </div>
    </div>

    <!-- Nombre del cliente (autocompletado, solo lectura) -->
    <div class="mb-3">
      <label class="form-label">Nombre del Cliente</label>
      <input
        type="text"
        class="form-control"
        [value]="nombreCliente"
        readonly
      >
    </div>

    <!-- Dominio del auto -->
    <div class="mb-3">
      <label for="dominioAuto" class="form-label">Dominio del Auto</label>
      <input
        type="text"
        id="dominioAuto"
        name="dominioAuto"
        [(ngModel)]="dominioAuto"
        (blur)="buscarAuto()"
        class="form-control"
        required
      >
      <div *ngIf="errorAutoNoEncontrado" class="text-danger mt-1">
        {{ errorAutoNoEncontrado }}
      </div>
    </div>

    <!-- Auto (marca y modelo, autocompletado, solo lectura) -->
    <div class="mb-3">
      <label class="form-label">Auto</label>
      <input
        type="text"
        class="form-control"
        [value]="nombreAuto"
        readonly
      >
    </div>

    <!-- Fechas -->
    <div class="mb-3">
      <label for="fechaInicio" class="form-label">Fecha de Inicio</label>
      <input
        type="date"
        id="fechaInicio"
        name="fechaInicio"
        [(ngModel)]="fechaInicio"
        class="form-control"
        required
      >
    </div>

    <div class="mb-3">
      <label for="fechaFin" class="form-label">Fecha de Fin</label>
      <input
        type="date"
        id="fechaFin"
        name="fechaFin"
        [(ngModel)]="fechaFin"
        class="form-control"
        required
      >
    </div>

    <!-- Mensajes -->
    <div *ngIf="mensajeError" class="alert alert-danger">{{ mensajeError }}</div>
    <div *ngIf="mensajeExito" class="alert alert-success">{{ mensajeExito }}</div>

    <button type="submit" class="btn btn-primary">Guardar Reserva</button>
  </form>
</div>
